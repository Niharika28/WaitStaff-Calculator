<!DOCTYPE html>
<html>

<head>
    <link type='text/css' rel='stylesheet' href='style.css'>
    <title>Waitstaff Calculator</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js" type="text/javascript"></script>
    <script src="https://code.angularjs.org/1.5.5/angular-messages.js" type="text/javascript"></script>
</head>

<body ng-app="myApp">

    <div class="div-body" ng-controller="WaitStaffCtrl as vm">
        <header><h1 class="page-header">Waitstaff Calculator</h1></header>
        <div>
            <form name="myForm" novalidate ng-submit="myForm.$valid && vm.calculateCustomerCharges()">
                <table class="super" id="meal-details">
                    <thead>
                        <tr>
                            <th class="table-header" colspan="2">Enter the Meal Details</th>
                        </tr>
                        <tr>
                            <th></th>
                        </tr>
                        <tr>
                            <th></th>
                            <th></th>
                        </tr>
                        <thead>
                            <tbody>
                                <tr>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td class="table-text">Base Meal Price: $</td>
                                    <td>
                                        <input type="number" id="meal-rice" name="mealPrice" min="0" ng-model="vm.mealPrice" required>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="table-text">Tax Rate: % </td>
                                    <td>
                                        <input type="number" id="tax-rate" name="taxRate" min="0" ng-model="vm.taxRate" required>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="table-text">Tip Percentage: %</td>
                                    <td>
                                        <input type="number" id="tip-percent" name="tipPercent" min="0" ng-model="vm.tipPercent" required>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr id="submission-row">
                                    <td>
                                        <input type="submit" id="submit" value="Submit">
                                    </td>
                                    <td>
                                        <input type="button" id="cancel" value="Cancel" ng-click="vm.cancelMealData()">
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tfoot>
                </table>
            </form>
        </div>
        <div class="displayError ng-pristine" ng-if="myForm.$submitted && myForm.$invalid" ng-messages="myForm.mealPrice.$error">
            <span class="error" ng-message="required">Meal Price is Mandatory!!</span>
        </div>
        <div class="displayError ng-pristine" ng-if="myForm.$submitted && myForm.$invalid" ng-messages="myForm.taxRate.$error">
            <span class="error" ng-message="required">Tax Rate is Mandatory!!</span>
        </div>
        <div class="displayError ng-pristine" ng-if="myForm.$submitted && myForm.$invalid" ng-messages="myForm.tipPercent.$error">
            <span class="error" ng-message="required">Tip Percent is Mandatory!!</span>
        </div>
        <div>
            <table class="sub" id="cust-info">
                <tr class="table-header" colspan="2">
                    <th colspan="2">Customer Charges</th>
                </tr>
                <tr>
                    <td class="table-text">
                        Subtotal
                    </td>
                    <td>
                        {{vm.subTotal | currency}}
                    </td>
                </tr>
                <tr>
                    <td class="table-text">
                        Tip
                    </td>
                    <td>
                        {{vm.tip | currency}}
                    </td>
                </tr>
                <tr>
                    <td class="table-text">
                        Total
                    </td>
                    <td>
                        {{vm.total | currency}}
                    </td>
                </tr>
            </table>
            <table class="sub1" id="Earning-Info">
                <tr class='table-header'>
                    <th colspan="2">
                        My Earnings Info
                    </th>
                </tr>
                <tr>
                    <td class="table-text">Tip Total: </td>
                    <td>{{vm.tipTotal | currency}}</td>
                </tr>
                <tr>
                    <td class="table-text">Meal Count: </td>
                    <td>{{vm.numberOfMeals | number}}</td>
                </tr>
                <tr>
                    <td class="table-text">Average Tip Per Meal: </td>
                    <td>{{vm.averageTip | currency}}</td>
                </tr>
            </table>
            <input type="submit" value="Reset" id="reset" ng-click="vm.resetData()">
            </div>
    </div>
    <script type="text/javascript" src="myApp.js"></script>
</body>

</html>
